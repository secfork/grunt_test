 
<!-- 
<form class="form-inline ng-pristine ng-valid" role="form">
        <div class="form-group w ">
          <label class="sr-only" for="exampleInputEmail2">Email address</label>
          <input type="email" class="form-control" id="exampleInputEmail2" placeholder="Enter email">
        </div>
        <div class="form-group w ">
          <label class="sr-only" for="exampleInputPassword2">Password</label>
          <input type="password" class="form-control" id="exampleInputPassword2" placeholder="Password">
        </div>
        <div class="checkbox m-l m-r-xs">
          <label class="i-checks">
            <input type="checkbox"><i></i> Remember me
          </label>
        </div>
        <button type="submit" class="btn btn-default">Sign in</button>
        <span ng-controller="ModalDemoCtrl" class="ng-scope">
          <script type="text/ng-template" id="myModalContent.html">
            <div ng-include="'tpl/modal.form.html'"></div>
          </script>
          <button class="btn btn-success" ng-click="open('lg')">Form in a modal</button>
        </span>
 </form>

 -->














    <div class="panel-heading " style="padding-top:0px">

  <!--   <ul class="list-inline">

            <li class="  m-t-xs">
                <label class="i-checks m-t-xs" style="padding-left:0">
                    活跃报警
                    <input type="checkbox" ng-model="xxx">
                    <i style="margin-left:0"></i>
                </label>
            </li>

            <li class="    "  >
                <label>区域</label>
                <select class="input input-sm" ng-model="od.orgin" ng-options="p.id as p.name  for p in  projs">
                    <option value="">所有区域</option>
                </select>
                <label>系统</label>
                <select class="input input-sm">
                    <option value="">所有系统</option>
                </select>
            </li>
 
 <br>
            <li class=" m-t-xs   ">
                <label class=" w-xxs text-right control-label float-left m-t-xs">起始时间:</label>
                <input type="text" class=" input input-sm  float-left" datetime-picker date-format='yyyy-MM-dd HH:mm' nofocus data-readonly-input='false' ng-model="od.start" is-open='op.showS' />
                <span class=" float-left">
                      <button type="button" class="btn btn-default btn-sm" 
                      ng-click="openCalendar($event, 'op.showS=true')">
                      <i class="fa fa-calendar"></i></button>
                </span>

            </li>
            <li class="   ">    
                <label class=" w-xxs text-right control-label float-left  m-t-xs">结束时间:</label>
                <input type="text" class=" input input-sm float-left" datetime-picker date-format='yyyy-MM-dd HH:mm' nofocus ng-model="od.end" is-open='op.showE' />
                <span class=" float-left">
                      <button type="button" class="btn btn-default btn-sm" 
                      ng-click="openCalendar($event, 'op.showE=true')">
                      <i class="fa fa-calendar"></i></button>
                  </span>
            </li>
 

            <li class=" ">
                <label>严重性</label>
                <select class="input input-sm" ng-model="od.severity"
                 ng-options=" k as v for (k,v) in $sys.trigger.severity">
                    <option value="">全部</option>
                </select>
                <label>类别</label>
                <select class="input input-sm" ng-model="od.class" 
                     ng-options=" v for  v in [0,1,2,3,4,5,6,7,8,9]   ">
                    
                </select>
            </li>
          

            <li class="form-group m-t-xs">
                <span ng-if=" op.ala !='a' " class="btn btn-info btn-sm w-xs m-l  " ng-click="queryAlarm()" token='5000'> 
                     查询
                </span>
            </li>

      
    </ul>
 -->
 

        <form class="form-inline  form-validation ng-pristine ng-valid" name="form">

               



            <div class="form-group    m-t-xs">
                <label class="i-checks m-t-xs" style="padding-left:0">
                    活跃报警
                    <input type="checkbox" ng-model="op.active">
                    <i style="margin-left:0"></i>
                </label>
            </div>
            <div class="form-group     m-t-xs">
                
                <label>区域</label>
                <select class="input input-sm" ng-model="op.region" 
                        ng-options="p.id as p.name  for p in  regions"
                        ng-change = " loadSys()"
                        required
                        >
                    <option value="">请选择区域</option>
                </select>



                <label>系统</label>
                <select class="input input-sm"  ng-model=" od.uuid"
                    ng-options = "s.uuid as s.name  for s in systems"
                    required
                    >
                    <option value="">请选择系统</option>
                </select>
            </div>

           <div class="form-group    m-t-xs">
                <label class=" w-xxs text-right control-label float-left m-t-xs">起始时间:</label>
                <input type="text" class=" input input-sm  float-left w-xsl" datetime-picker date-format='yyyy-MM-dd HH:mm' nofocus data-readonly-input='false' ng-model="od.start" is-open='op.showS' />
                <span class=" float-left">
                      <button type="button" class="btn btn-default btn-sm" 
                      ng-click="openCalendar($event, 'op.showS=true')">
                      <i class="fa fa-calendar"></i></button>
                </span>

                <br  class="visible-xs "/>
                <label class=" w-xxs text-right control-label float-left  m-t-xs">结束时间:</label>
                <input type="text" class=" input input-sm float-left w-xsl"
                    datetime-picker
                    date-format='yyyy-MM-dd HH:mm' 
                    nofocus ng-model="od.end" is-open='op.showE' />
                <span class=" float-left">
                      <button type="button" class="btn btn-default btn-sm" 
                      ng-click="openCalendar($event, 'op.showE=true')">
                      <i class="fa fa-calendar"></i></button>
                  </span>
            </div>



            <div class="form-group m-t-xs">
                <label>严重性</label>
                <select class="input input-sm" ng-model="od.severity"
                 ng-options=" k as v for (k,v) in $sys.trigger.severity">
                    <option value="">全部</option>
                </select>
                <label>类别</label>
                <select class="input input-sm" ng-model="od.class_id" 
                     ng-options=" v for v in [1,2,3,4,5,6,7,8,9,0]">
                    <option value="">全部 </option>
                </select>
            </div>
          
<!-- ng-if=" op.ala !='a' " -->
            <div class="form-group m-t-xs">
                <span  class="btn btn-info btn-sm w-xs m-l  "
                     ng-click="queryAlarm()" token='5000'> 
                     查询
                </span>
            </div>
        </form>  

   

    </div>
    <div class="panel-body table-responsive no-padder" ng-init=" _$A = $sys.trigger.op">
        <table class=" table   table-bordered " ng-init="_config = $sys.trigger.severity">
            <thead class="flip-content">
                <tr class="background ">
                    <th> 报警ID </th>
                    <th> 报警时间</th>
                    <th> 报警描述 </th>
                    <th> 重要性 </th>
                    <th> 类别 </th>
                    <th> 活跃状态 </th>
                    <th class="w-xs"> </th>
                </tr>
            </thead>
            <tbody class="text-center ">
                <tr ng-repeat="  a  in alarms  " class="hover">
                    <td> {{ a.id }} </td>
                    <td> {{ a.timestamp | date:"yyyy-MM-dd HH:mm:ss" }}</td>
                    <td> {{ a.desc }}</td>
                    <td> {{ _config[a.severity] }} </td>
                    <td> {{ a.class_id }} </td>
                    <td> {{ a.active?"活跃":"关闭" }} </td>
                    <td> <a class="text-link" ng-click="alarmMsg(a)">详细信息</a></td>
                </tr>
            </tbody>
        </table>
    </div>
 
    <!--@if append -->
            od = {{od}}  <br/>
            op = {{op}}
    <!-- @endif -->