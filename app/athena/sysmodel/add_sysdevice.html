 <!-- 添加  sysmodel  -->

<div class="modal-header ">
    <h4 ng-if="isAdd">添加系统设备</h4>
    <h4 ng-if="!isAdd">编辑系统设备</h4>

</div>

<div class="modal-body  ">

    <form name="form" class=" form-validation form-horizontal   ">

        <input tl-wrap  required ng-model="D.name"
               label="系统设备名称"
            >


        <select  tl-wrap
            ng-model="D.device_model"
            ng-options="  k  as v.name for (k,v) in devModelKV"

            label="设备模型"
        >
        </select>

        <hr>

        <!-- 根据 选择的 设备模型  类型 加载 相应的配置  /_dev_[params , networdk]_{driver_type}.html   -->

        <ng-include src=" 'athena/device/_dev_params_'+ devModel.driver_id +'_'
                                            + devModel.driver_ver +'.html' " ></ng-include>

       

        <!-- ( comm_type = 2 ) gateway 时 才用 配置 newwork;  -->
        <ng-include ng-if="sysmodel.comm_type==2"  
             src=" 'athena/device/_dev_network_'+ devModel.driver_id +'_'
                                            + devModel.driver_ver+'.html' "  >
        </ng-include>



        <hr   > 
 
        <input  tl-wrap
                ng-model="D.Cycle"
                type="number"
                label="采样周期" 
            
                min='1'
                max = "59"

            >

         <select  tl-wrap 
                ng-model="D.CycleUnit"
                label="采样周期单位"  
                ng-options = "v as k for (k,v) in $sys.timeUnit "


         >     
         </select>   

        <input  tl-wrap
                ng-model="D.SlowCycle"
                type="number"
                label="慢速周期"
                tl-default="59"
                min='1'
                max = "59"

            >

         <select  tl-wrap 
                ng-model="D.SlowCycleUnit"
                label="慢速周期单位" 
                tl-default="2"
                ng-options = " v as k for (k,v) in $sys.timeUnit  "


         >     
         </select>   

         <input  tl-wrap
                ng-model = "D.Timeout"
                type="number"
                label="连接超时时间(秒)"
                tl-default="15"
                max = '60'
                min = '3'
            >

        <input  tl-wrap
                ng-model= "D.Retry"
                type = "number"
                label = "连接重试次数"
                tl-default="1"
                min="0"
                max = "3"
            >


        <input  tl-wrap
                ng-model= "D.Delay"
                type = "number"
                label = "命令延时(毫秒)"
                tl-default="1"
                min="0"
                max = "1000"
            >




        <textarea tl-wrap  ng-model="D.desc" label="备注" >  </textarea>


    </form>
</div>

<ng-include src=" 'athena/debris/_modal_footer.html' "></ng-include>


 <!--@if debug -->
D ={{D}}

 <!--@endif  -->