<!--jjw bg-white b-b b-r b-l text-base-->
<div class=" bg-light panel-body no-padder bg-white b-b b-r b-l text-base">
    <!--jjw padder-->
    <div class="col-md-8 col-xs-12   text-left   m-b m-t padder-md">
        <!--     <div class="form-group">      </div>   -->
        <label class="col-md-3 col-md-offet-1 control-label m-t-xs">配置项</label>
        <div class="col-md-9">
            <select ng-model="profile" class=" form-control    " ng-options="   p as p.name for p in profiles  " ng-change="toUpdate('profile')" required>
            </select>
            <span class="help-block m-b-none  m-b-xs" ng-show=" profile.desc">
                        <i class="fa  fa-warning  text-success pos-rlt"></i>
                         {{profile.desc}} 
            </span>
        </div>
        <div class="col-md-9 col-md-offset-3 m-t-xs m-b">
            <span class="text-danger " ng-show=" needUpdate.profile ">
                            <button  class=" btn btn-sm   w-xs btn-primary "
                                     ng-click = "  updateSystem( 'profile' );  "
                                     >
                                  保存
                            </button>
                            <i class="fa  fa-exclamation-triangle  "></i>
                             编辑完成后请保存网络参数
            </span>
            <span ng-show=" hasSave.profile ">
                           <strong  class= "text-info    ">
                           <i class="fa  fa-thumbs-o-up "></i> <span>保存成功!</span> </strong>
            </span>
        </div>
        <!--  就 托管的 daServer 不用  box ticket-->
        <div ng-if="  nT ">
            <label class="col-md-3 col-lg-offet-1 control-label m-t-xs">SN</label>
            <div class="col-md-8  ">
                <div class="input-group">
                    <input type="text" class="form-control" ng-model="t.sn" ng-disabled="t.ticket">
                    <span class="input-group-btn">
                        <button class="btn btn-default w-xs" type="button"
                            ng-disabled=" t.ticket  "
                            ng-click="createTicket()">注册</button>
                        </span>
                </div>
            </div>
            <label class="col-md-3 col-lg-offet-1 control-label m-t-xs">Ticket</label>
            <div class="col-md-8 m-t-xs">
                {{ t.ticket || "无Ticket !" }}
                <!--  <a class = "fa fa-copy text-success"></a> -->
            </div>

            <!--jjw 注释-->
            <!--@if append -->
            t = {{t}}
            <!--@endif -->
        </div>
    </div>
    <!--jjw dashed-->
    <div class="line b-b line-dashed"></div>
    <!--   托管  daserver  模式   sysmodel.mode ==1 &&  sysmodel.comm_type == 1  -->
 
  
    <div class="  text-left m-t-xs m-b   "
         ng-if=" !nT ">
        <!--jjw sm-->
        <h5 class="m-l-xs wrapper-sm"> 网络参数 </h5> 



        <ng-include src="  'athena/dastation/_prop_daserver_network.html'  "></ng-include>
    </div>
    <!--
    
    <div class="line b-b " ng-if=" sysmodel.comm_type == 1   "></div>
    
 -->
    <!--  <div class="panel-body table-responsive no-padder">
    托管模式: ==>  daserver 类型;
-->
    <div class=" table-responsive m-t" ng-if=" sysmodel.mode ==1 && sysmodel.comm_type ==2   ">
        <h5 class="m-l"> 网关配置</h5>
        <ng-include src="  'athena/dastation/_prop_gateway_gateway.html'  "></ng-include>
    </div>



    <!--
    <div class="line b-b " ng-if="sysmodel.comm_type ==2   "></div>
 -->
 <!--@if append --> 
 <!--@endif -->

    <div class=" table-responsive  m-t " 
        ng-if=" sysmodel.devices.length && sysmodel.mode ==1 && sysmodel.comm_type ==2 ">
        <h5 class="m-l"> 设备网络参数   </h5>
        <ng-include src="  'athena/dastation/_prop_gateway_device.html'  "></ng-include>
    </div>
 
 
    <!--jjw line-dashed-->
    <div class="line b-b line-dashed"></div>


    <!--jjw 添加一个col-md-8的div
    子div全部添加col-md-？，m-t m-b
    -->
    <div class="col-md-8 col-xs-12 text-left m-t padder-md">
        <div class="col-md-3  col-xs-6   text-left m-t-sm m-b-sm ">
            <span>上次配置更新</span>
        </div>
        <div class="col-md-9 col-xs-6 m-t-sm m-b-sm ">
            {{ station.last_modify_time| date:"yyyy-MM-dd HH:mm" }}
        </div>
    </div>

    <div class="col-md-8 col-xs-12 text-left padder-md">
        <div class="col-md-3  col-xs-6 text-left m-t-xs m-t-sm m-b-sm ">
            上次同步
        </div>
        <div class="col-md-9 col-xs-6 m-t-xs m-t-sm m-b-sm ">
            <span class=" ">  {{station.last_sync_time | date:"yyyy-MM-dd HH:mm" }} </span>
        </div>
    </div>

    <div class="col-md-8 col-xs-12 text-left m-b padder-md">
        <!--jjw md-3 xs-6-->
        <div class="col-xs-6 m-t-sm col-md-3 m-t-sm m-b-sm ">
            <button class="btn  btn-sm btn-primary" ng-click="syncSystem( station ) ; " ng-disabled=" sync_start"> 同步配置</button>

            <span ng-show=" !sync_start && sync_err_msg "
               class=" m-t-xs  text-danger"> {{ sync_err_msg }} </span>

            <span  ng-show=" !sync_start && sync_ret_msg "
               class=" m-t-xs  text-info  ">  {{ sync_ret_msg }} </span>

            <span ng-show=" sync_start ">
                <i  class="fa fa-spin fa-spinner   inline" id="spin" ></i>
            </span>

            <!--
              <div  class="  m-t-xs">
                  <i class="fa fa-spin fa-spinner hide show inline" id="spin"></i>
              </div>
              -->

        </div>

        <!--jjw md-9 xs-6-->
        <div class=" col-xs-6    m-t-xs col-md-9 m-t-sm m-b-sm ">

            <!--jjw success-->
            <button class="btn btn-sm btn-success" ng-click="startSystem(  station )"> 启动 </button>
            <!--jjw danger-->
            <button class="btn btn-sm btn-danger" ng-click="d_stop()"> 停止 </button>
            <!--  <button class="btn btn-sm btn-info" ng-click="d_call( station )"> 召唤实时 </button> -->
        </div>
 
 
    </div>
</div>
